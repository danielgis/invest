{
  "id": "window",
  "label": "Crop Production",
  "targetScript": "natcap.invest.crop_production.crop_production",
  "modelName": "crop_production",
  "localDocURI": "../documentation/crop_production.html",
  "height": 800,
  "width": 800,
  "elements": [
    {
      "id": "alpha_only",
      "label": "This tool is in an ALPHA testing stage.",
      "type": "label",
      "helpText": "Alpha tools are considered unstable."
    },
    {
      "id": "workspace_list",
      "type": "list",
      "elements": [
          {
            "id": "workspace_dir",
            "args_id": "workspace_dir",
            "type": "folder",
            "label": "Workspace",
            "defaultValue": "~/Documents/crop_production_workspace",
            "required": true,
            "validateAs": {
              "type": "folder"
            },
            "helpText": "The selected folder is used as the workspace where all intermediate and final output files will be written. <br><br>If the selected folder does not exist, it will be created.<br><br><b>If datasets already exist in the selected folder, they will be overwritten.</b>"
          },
          {
            "id": "results_suffix",
            "args_id": "results_suffix",
            "type": "text",
            "dataType": "string",
            "label": "Results Suffix (Optional)",
            "defaultValue": "",
            "required": false,
            "helpText": "This text will be appended to the end of the yield function output folders to help seperate outputs from multiple runs."
          },
          {
            "id": "lookup_table",
            "args_id": "lookup_table",
            "type": "file",
            "label": "Lookup Table (CSV)",
            "defaultValue": "../CropProduction/input/lookup.csv",
            "required": true,
            "validateAs": {
              "type": "CSV"
            },
            "helpText": "The provided CSV table is used to convert the crop code provided in the Crop Map to the crop name that can be used for searching through inputs and formatting outputs.<br><br>The table should contain three columns: a 'name' column, a 'code' column, and an 'is_crop' column."
          },
          {
            "id": "aoi_raster",
            "args_id": "aoi_raster",
            "type": "file",
            "label": "Crop Management Scenario Map (Raster)",
            "defaultValue": "../CropProduction/input/willamette.tif",
            "required": true,
            "validateAs": {
              "type": "GDAL"
            },
            "helpText": "A GDAL-supported raster representing a crop management scenario."
          },
          {
            "id": "dataset_dir",
            "args_id": "dataset_dir",
            "type": "folder",
            "label": "Global Dataset Folder",
            "required": true,
            "validateAs": {
              "type": "folder"
            },
            "helpText": "The provided folder should contain a set of folders and data specified in the 'Running the Model' section of the model's User Guide."
          },
          {
            "id": "yield_function",
            "args_id": "yield_function",
            "type": "dropdown",
            "label": "Yield Function",
            "defaultValue": "Observed",
            "required": true,
            "options": [
              "Observed",
              "Percentile",
              "Regression"
            ],
            "returns": "strings",
            "dataType": "string",
            "helpText": "Determines how yield is estimated in the model."
          },
          {
            "id": "percentile_column",
            "args_id": "percentile_column",
            "type": "text",
            "dataType": "string",
            "label": "Percentile Column",
            "defaultValue": "",
            "required": false,
            "enabledBy": "yield_function",
            "helpText": ""
          },
          {
            "id": "fertilizer_dir",
            "args_id": "fertilizer_dir",
            "type": "folder",
            "label": "Fertilizer Raster Folder",
            "required": true,
            "validateAs": {
              "type": "folder"
            },
            "enabledBy": "yield_function",
            "helpText": "Required for Regression Yield Function."
          },
          {
            "id": "irrigation_raster",
            "args_id": "irrigation_raster",
            "type": "file",
            "label": "Irrigation Map (Raster)",
            "defaultValue": "../CropProduction/input/willamette_is_irrigated.tif",
            "required": true,
            "validateAs": {
              "type": "GDAL"
            },
            "enabledBy": "yield_function",
            "helpText": "Required for Regression Yield Function."
          },
          {
            "id": "compute_nutritional_contents",
            "args_id": "compute_nutritional_contents",
            "type": "checkbox",
            "label": "Compute Nutritional Contents",
            "required": true,
            "defaultValue": false,
            "helpText": ""
          },
          {
            "id": "nutrient_table",
            "args_id": "nutrient_table",
            "type": "file",
            "label": "Crop Nutrient Information (CSV)",
            "defaultValue": "../CropProduction/input/crop_nutrient_info.csv",
            "required": true,
            "validateAs": {
              "type": "CSV"
            },
            "enabledBy": "compute_nutritional_contents",
            "helpText": ""
          },
          {
            "id": "compute_financial_analysis",
            "args_id": "compute_financial_analysis",
            "type": "checkbox",
            "label": "Compute Financial Analysis",
            "required": true,
            "defaultValue": false,
            "helpText": ""
          },
          {
            "id": "economics_table",
            "args_id": "economics_table",
            "type": "file",
            "label": "Crop Economic Information (CSV)",
            "defaultValue": "../CropProduction/input/crop_economic_info.csv",
            "required": true,
            "validateAs": {
              "type": "CSV"
            },
            "enabledBy": "compute_financial_analysis",
            "helpText": ""
          }
      ]
    }
  ]
}
