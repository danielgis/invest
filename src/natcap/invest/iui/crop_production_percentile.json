{
  "id": "window",
  "label": "Crop Production Percentile Model",
  "targetScript": "natcap.invest.crop_production_percentile",
  "modelName": "crop_production_percentile",
  "localDocURI": "../documentation/crop_production.html",
  "height": 800,
  "width": 850,
  "elements": [
    {
      "id": "workspace_list",
      "type": "list",
      "elements": [
        {
          "id": "model_data_path",
          "args_id": "model_data_path",
          "type": "folder",
          "label": "Directory to model data",
          "defaultValue": "../CropProduction/model_data",
          "required": true,
          "helpText": "A path to the InVEST Crop Production Data directory.  These data would have been included with the InVEST installer if selected, or can be manually downloaded from http://data.naturalcapitalproject.org/invest-data/.  If downloaded with InVEST, the default value should be used.</b>"
        },
        {
          "id": "workspace",
          "args_id": "workspace_dir",
          "type": "folder",
          "label": "Workspace Directory",
          "defaultValue": "~/Documents/crop_production_percentile_workspace",
          "required": true,
          "helpText": "The selected folder is used as the workspace where all intermediate and output files will be written.<br><br>If the selected folder does not exist, it will be created.<br><br><b>If datasets already exist in the selected folder, they will be overwritten.</b>"
        },
        {
          "id": "results_suffix",
          "args_id": "results_suffix",
          "type": "text",
          "dataType": "string",
          "label": "Results Suffix <em>(optional)</em>",
          "defaultValue": "",
          "returns": {
            "ifEmpty": "pass"
          },
          "required": false,
          "helpText": "This text will be appended to the end of the output files to help separate multiple runs."
        },
        {
          "id": "landcover_raster_path",
          "args_id": "landcover_raster_path",
          "type": "file",
          "label": "Land-Use/Land-Cover Map (raster)",
          "defaultValue": "../CropProduction/sample_user_data/landcover.tif",
          "required": true,
          "validateAs": {
            "type": "GDAL"
          },
          "helpText": "A raster file, representing integer land use/land code covers for each cell."
        },
        {
          "id": "landcover_to_crop_table_path",
          "args_id": "landcover_to_crop_table_path",
          "type": "file",
          "label": "Landcover to Crop Table (csv)",
          "defaultValue": "../CropProduction/sample_user_data/landcover_to_crop_table.csv",
          "required": true,
          "validateAs": {
            "type": "CSV",
            "fieldsExist": [
              "crop_name",
              "lucode"
            ]
          },
          "helpText": "A CSV table mapping canonical crop names to land use codes contained in the landcover/use raster.   The allowed crop names are abaca, agave, alfalfa, almond, aniseetc, apple, apricot, areca, artichoke, asparagus, avocado, bambara, banana, barley, bean, beetfor, berrynes, blueberry, brazil, broadbean, buckwheat, cabbage, cabbagefor, canaryseed, carob, carrot, carrotfor, cashew, cashewapple, cassava, castor, cauliflower, cerealnes, cherry, chestnut, chickpea, chicory, chilleetc, cinnamon, citrusnes, clove, clover, cocoa, coconut, coffee, cotton, cowpea, cranberry, cucumberetc, currant, date, eggplant, fibrenes, fig, flax, fonio, fornes, fruitnes, garlic, ginger, gooseberry, grape, grapefruitetc, grassnes, greenbean, greenbroadbean, greencorn, greenonion, greenpea, groundnut, hazelnut, hemp, hempseed, hop, jute, jutelikefiber, kapokfiber, kapokseed, karite, kiwi, kolanut, legumenes, lemonlime, lentil, lettuce, linseed, lupin, maize, maizefor, mango, mate, melonetc, melonseed, millet, mixedgrain, mixedgrass, mushroom, mustard, nutmeg, nutnes, oats, oilpalm, oilseedfor, oilseednes, okra, olive, onion, orange, papaya, pea, peachetc, pear, pepper, peppermint, persimmon, pigeonpea, pimento, pineapple, pistachio, plantain, plum, poppy, potato, pulsenes, pumpkinetc, pyrethrum, quince, quinoa, ramie, rapeseed, rasberry, rice, rootnes, rubber, rye, ryefor, safflower, sesame, sisal, sorghum, sorghumfor, sourcherry, soybean, spicenes, spinach, stonefruitnes, strawberry, stringbean, sugarbeet, sugarcane, sugarnes, sunflower, swedefor, sweetpotato, tangetc, taro, tea, tobacco, tomato, triticale, tropicalnes, tung, turnipfor, vanilla, vegetablenes, vegfor, vetch,walnut, watermelon, wheat, yam, and yautia."
        },
        {
          "id": "aggregate_polygon_path",
          "args_id": "aggregate_polygon_path",
          "type": "file",
          "label": "Aggregate results polygon (vector) (optional)",
          "defaultValue": "../CropProduction/sample_user_data/aggregate_shape.shp",
          "required": false,
          "validateAs": {
            "type": "OGR",
            "layers": [
              {
                "name": {
                  "inheritFrom": "file"
                }
              }
            ]
          },
          "helpText": "A polygon shapefile to aggregate/summarize final results.  It is fine to have overlapping polygons. The attribute table must contain a keyfield for identifying polygons, be sure to indicate the name of this field in the Aggregate Polygon ID Field below."
        },
        {
          "id": "aggregate_polygon_id",
          "args_id": "aggregate_polygon_id",
          "type": "text",
          "label": "Aggregate polygon ID field",
          "defaultValue": "id",
          "required": true,
          "enabledBy": "aggregate_polygon_path",
          "helpText": "If an aggregate polygon is provided, this field is used to indicate the key field of that polygon for aggregation.  The aggregate table produced by this model will index the results by this field value."
        }
      ]
    }
  ]
}
