{
  "id": "window",
  "label": "Seasonal Water Yield",
  "targetScript": "natcap.invest.seasonal_water_yield.seasonal_water_yield",
  "modelName": "seasonal_water_yield",
  "localDocURI": "../documentation/seasonalwateryield.html",
  "height": 570,
  "width": 700,
  "elements": [
    {
      "id": "workspace_list",
      "type": "list",
      "elements": [
        {
          "id": "workspace",
          "args_id": "workspace_dir",
          "type": "folder",
          "label": "Workspace",
          "defaultValue": "~/Documents/seasonal_water_yield_workspace",
          "required": true,
          "helpText": "The selected folder is used as the workspace where all intermediate and output files will be written.<br><br>If the selected folder does not exist, it will be created.<br><br><b>If datasets already exist in the selected folder, they will be overwritten.</b>"
        },
        {
          "id": "results_suffix",
          "args_id": "results_suffix",
          "type": "text",
          "dataType": "string",
          "label": "Results Suffix (Optional)",
          "defaultValue": "",
          "required": false,
          "returns": {
            "ifEmpty": "pass"
          }
        },
        {
          "id": "qb_value",
          "args_id": "qb_value",
          "type": "text",
          "label": "Qb",
          "defaultValue": "111.0",
          "required": true,
          "validText": "^[-+]?[0-9]+\\.?[0-9]*$",
          "helpText": "Qb."
        },
        {
          "id": "et0_dir",
          "args_id": "et0_dir",
          "type": "folder",
          "label": "ET0 Directory",
          "defaultValue": "../seasonal_water_yield/eto_dir",
          "required": true,
          "helpText": "The selected folder has a list of ET0 files with a specified format."
        },
        {
          "id": "precip_dir",
          "args_id": "precip_dir",
          "type": "folder",
          "label": "Precipitation Directory",
          "defaultValue": "../seasonal_water_yield/precip_dir",
          "required": true,
          "helpText": "The selected folder has a list of monthly precipitation files with a specified format."
        },
        {
          "id": "pawc_raster_path",
          "args_id": "pawc_raster_path",
          "type": "file",
          "label": "Plant Available Water Content (Raster)",
          "defaultValue": "../seasonal_water_yield/pawc.tif",
          "required": true,
          "validateAs": {
            "type": "GDAL"
          },
          "helpText": "A GDAL-supported raster file containing plant available water content values for each cell. The plant available water content fraction should be a value between 0 and 1."
        },
        {
          "id": "dem_raster_path",
          "args_id": "dem_raster_path",
          "type": "file",
          "label": "Digital Elevation Model (Raster)",
          "defaultValue": "../seasonal_water_yield/dem.tif",
          "required": true,
          "validateAs": {
            "type": "GDAL"
          },
          "helpText": "A GDAL-supported raster file with an elevation value for each cell. Make sure the DEM is corrected by filling in sinks, and if necessary burning hydrographic features into the elevation model (recommended when unusual streams are observed.) See the 'Working with the DEM' section of the InVEST User's Guide for more information."
        },
        {
          "id": "soil_depth_raster_path",
          "args_id": "soil_depth_raster_path",
          "type": "file",
          "label": "Soil Depth (Raster)",
          "defaultValue": "../seasonal_water_yield/soil_depth.tif",
          "required": true,
          "validateAs": {
            "type": "GDAL"
          },
          "helpText": "A GDAL-supported raster file with the soil depth in mm for each cell."
        },
        {
          "id": "lulc_raster_path",
          "args_id": "lulc_raster_path",
          "type": "file",
          "label": "Land-Use/Land-Cover (Raster)",
          "defaultValue": "../seasonal_water_yield/lulc.tif",
          "required": true,
          "validateAs": {
            "type": "GDAL"
          },
          "helpText": "A GDAL-supported raster file, with an integer LULC code for each cell."
        },
        {
          "id": "aoi_path",
          "args_id": "aoi_path",
          "type": "file",
          "label": "AOI/Watershed (Vector)",
          "defaultValue": "../seasonal_water_yield/watershed.shp",
          "required": true,
          "validateAs": {
            "type": "OGR",
            "layers": [
              {
                "name": {
                  "inheritFrom": "file"
                },
                "type": "polygons",
                "projection": {
                  "exists": true
                }
              }
            ]
          }
        },
        {
          "id": "biophysical_table_path",
          "args_id": "biophysical_table_path",
          "type": "file",
          "label": "Biophysical Table (CSV)",
          "defaultValue": "../seasonal_water_yield/biophysical_table.csv",
          "required": true,
          "validateAs": {
            "type": "CSV",
            "fieldsExist": [
              "lucode",
              "Kc_1",
              "Kc_2",
              "Kc_3",
              "Kc_4",
              "Kc_5",
              "Kc_6",
              "Kc_7",
              "Kc_8",
              "Kc_9",
              "Kc_10",
              "Kc_11",
              "Kc_12"
            ]
        },
          "helpText": "A CSV table containing model information corresponding to each of the land use classes in the LULC raster input. It must contain the fields 'lucode', and 'Kc_m' where 'm' is the calendar month number in the range 1..12."
        },
        {
          "id": "climate_zone_table_path",
          "args_id": "climate_zone_table_path",
          "type": "file",
          "label": "Climate Zone Table (CSV)",
          "defaultValue": "../seasonal_water_yield/climate_zone_events.csv",
          "required": true,
          "validateAs": {
            "type": "CSV",
            "fieldsExist": [
              "cz_id", "jan", "feb", "mar", "apr", "may", "jun", "jul",
              "aug", "sep", "oct", "nov", "dec"
            ]
          },
          "helpText": "This table describes the number of rain events per month per climate zone.  If there is no climate zone raster provided, the model assumes the climate zone is uniform across the entire raster input and uses the values in the first entry of this table.  Otherwise rain events are mapped from the 'cz_id' field to corresponding pixels in the climate zone raster."
        },
        {
          "id": "climate_zone_raster_path",
          "args_id": "climate_zone_raster_path",
          "type": "file",
          "label": "Climate Zone (Raster) (optional)",
          "defaultValue": "../seasonal_water_yield/climate_zones.tif",
          "required": false,
          "validateAs": {
            "type": "GDAL"
          },
          "helpText": "Optional map of climate zones that are found in the Climate Zone Table input.  Pixel values correspond to cz_id field in the table."
        }
      ]
    }
  ]
}
